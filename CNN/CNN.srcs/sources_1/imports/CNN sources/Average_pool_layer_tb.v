`timescale 1ns / 1ps
//test bench for average pool layer
module Average_pool_layer_tb;

parameter DATA_WIDTH=16;
parameter IMAGE_COLs=10;
parameter NO_OF_IMAGES=2;
parameter OUTPUT_COLs=5;

reg clk, enable;
reg [0:(DATA_WIDTH*IMAGE_COLs*IMAGE_COLs*NO_OF_IMAGES)-1]inputs;
wire [0:(DATA_WIDTH*OUTPUT_COLs*OUTPUT_COLs*NO_OF_IMAGES)-1]outputs;


//display variables
initial
$monitor ("clk = %b, enable = %b, inputs = %h, outputs = %h", clk, enable, inputs, outputs);

//apply input vectors
initial
begin

    clk = 1'b0;	
    enable = 1'b1;
    
    inputs = 3200'h00000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE00090000000100F8000300F4000500FC000700FE000900;
    #10 $stop;

end


always begin
  #5 clk = ~clk;
end

//instantiate the module into the test bench
Average_pool_layer inst1 (
.Clk(clk),
.enable(enable),
.images(inputs),
.reduced_images(outputs)
);
endmodule